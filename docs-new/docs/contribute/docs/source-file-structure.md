# Source File Structure

The source files for the Keptn documentation
are stored in the same GitHub repository as the source code.
This page explains how the documentation source files are organized.

> **Note** The structure of the documentation
  and the source code for the documentation is evolving.
  You may find small discrepancies between
  what is documented here and what is currently implemented.

## Primary documentation set

The source for the
[Keptn](https://lifecycle.keptn.sh/docs)
documentation is stored under
the `docs-new/docs` directory in the repository.

The subdirectories with content are:

- `assets`: This folder is used to save assets such as code examples that are used throughout the documentation.
  Many subfolders also contain an `assets` folder to keep asset files closer to the content where they are referenced.
- `components`: Information about the different subcomponents of Keptn
- `contribute`: Contains information on how to contribute to the different parts of Keptn
- `core-concepts`: A brief overview of Keptn, its features and use cases, and its history
- `getting-started`: Hands-on exercises that demonstrate the capabilities of Keptn
- `guides`: Guides and how-to material about using Keptn features
- `installation`: Requirements and instructions for installing and enabling Keptn
- `migrate`: Information to help users who are migrating to Keptn from Keptn v1
- `reference`: Reference pages for the CRDs and APIs that Keptn provides
- `use-cases`: Examples and exercises of using Keptn in different scenarios

### Working with reference pages

The Keptn documentation includes two reference sections
that document the Keptn APIs and CRDs.
For background information, see:

- [Kubernetes API Concepts](https://kubernetes.io/docs/reference/using-api/api-concepts/)
- [Kubernetes API Reference](https://kubernetes.io/docs/reference/kubernetes-api/)

#### API Reference

The
[API Reference](../../reference/api-reference/index.md)
pages are autogenerated from source code.
This is a comprehensive list of all APIs and resources Keptn uses.

Descriptive text for the APIs is authored in the source code itself.
Each operator has its own API with different versions.
The source locations are:

- [Lifecycle API](https://github.com/keptn/lifecycle-toolkit/tree/main/lifecycle-operator/apis/lifecycle)
- [Metrics API](https://github.com/keptn/lifecycle-toolkit/tree/main/metrics-operator/api)
- [Options API](https://github.com/keptn/lifecycle-toolkit/tree/main/lifecycle-operator/apis/options)

The text is coded in a limited form of markdown.

To regenerate the autogenerated API reference docs,
execute the following script
in the root directory of the repository:

```shell
./.github/scripts/generate-crd-docs/generate-crd-docs.sh
```

#### CRD Reference

The [CRD Reference](../../reference/crd-reference/index.md) pages
describe the YAML manifest files used to populate resources
for the small set of CRDs that users must populate themselves.
These are currently authored manually
and should provide as much information as possible about the resource.
These are intended to be reference pages that are used regularly
by users after they are familiar with how to use Keptn.
For new users, the
[User Guides](https://lifecycle.keptn.sh/docs/implementing/)
provide introductory material about how to use various features of Keptn.

A template to create a new CRD Reference page
is available [here](assets/yaml-crd-ref-template.md).

## Contribution guide

The source for the
[Contributing to Keptn](https://lifecycle.keptn.sh/contribute/)
guides
(which are accessed from the **Contributing** tab on the documentation page)
is stored under the `docs-new/contribute` directory.

The subdirectories of the contribution guide are:

- **docs** (Documentation contributions):
  Information that is specific to documentation contributions
- **general** (General information):
  Information that is applicable to all contributors,
  whether contributing software or documentation
- **software** (Software contributions):
  Information that is specific to software contributions

We also have *CONTRIBUTING.md* files located in the
home directory of the *lifecycle-toolkit* repository
(general and software development information)
and in the *lifecycle-toolkit/docs-new* directory
(documentation development information only).

## Build strategy

This section discusses how the individual files and directories
are assembled into the documentation set.
See
[Published Doc Structure](./publish.md)
for information about the branches where the documentation is published.

All files in the directories are built.

The order in which the files are displayed
is determined by their order in the `nav` field
of the `mkdocs.yml` file.

## Subdirectory structure

Each subdirectory contains topical subdirectories for each chapter in that section.
Each topical subdirectory may contain:

- An *index.md* file that has the text for the section.
  If this is a subdirectory that contains subdirectories for other pages,
  the *index.md* file
  contains introductory content for the section.
- An *assets* subdirectory where graphical files for that topic are stored.
  No *assets* subdirectory is present if the topic has no graphics.
